<template>
    <lightning-card title="Configuration">

        <div slot="actions">
            <lightning-button-group>
                <lightning-button onclick={save} label="Save" variant="brand"></lightning-button>
                <lightning-button-icon onclick={hide} label="Close" icon-name="utility:close" alternative-text="Close config"></lightning-button-icon>
            </lightning-button-group>
        </div>

        <div class="slds-p-horizontal_small">
            <c-related-object-picker object-api-name={objectApiName} onobjectchange={objectSelection} initial-selected-object={config.relatedObjectLabel} log={log}></c-related-object-picker>

            <template if:true={config.relatedObjectType}>
                <c-field-multi-selector object-api-name={config.relatedObjectType} initial-selected-fields={config.selectedFields} onfieldchange={fieldsSelection} log={log}></c-field-multi-selector>
                <c-field-editability-selector object-api-name={config.relatedObjectType} possible-fields={config.selectedFields} initial-editable-fields={config.editableFields} log={log}></c-field-editability-selector>

                <lightning-input type="text" label="Title" value={config.title} name="title" onchange={dataChange}></lightning-input>
                <lightning-input type="text" label="Icon Name" value={config.iconName} name="iconName" onchange={dataChange}></lightning-input>

                <lightning-slider min="1" max="100" label="Max row Count" name="maxRows" value={config.maxRows} onchange={maxRowChange}></lightning-slider>

                <lightning-input type="text" label="SOQL Where clause" value={config.whereClause} name="whereClause" onchange={dataChange}></lightning-input>

                <!-- <lightning-dual-listbox name="fields" label="Editable Fields" options={editOptions} onchange={editableChange}></lightning-dual-listbox> -->

            </template>

            <!-- can't because of issue with lightning-checkbox-group -->
            <!-- <template if:true={editOptions}>
            <lightning-checkbox-group options={editOptions} label="Make fields editable" onchange={editChange}></lightning-checkbox-group>
            </template> -->
        </div>

    </lightning-card>
</template>
